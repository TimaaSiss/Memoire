<app-header></app-header>
<div class="utilisateurs-container">
    <div class="sidebar" [class.active]="menuOpen">
    
       
          <app-sidebar></app-sidebar>
     
    </div>
    
    <div class="admin-content">
      <h1><strong>LISTE DES UTILISATEURS</strong></h1>
      <!-- Le reste de votre contenu de la page -->
      <button class="btn btn-green"><a class="btn btn-white" routerLink="/adduser"><strong>+ Ajouter un nouvel utilisateur</strong></a></button>
  
      <!-- Tableau des utilisateurs -->
      <br/><br/>
      <table class="table table-bordered table-striped">
        <!-- Entêtes de tableau -->
        <thead class="thead-dark">
          <tr>
            <th scope="col">#</th>
            <th scope="col">Nom</th>
            <th scope="col">Prénom</th>
            <th scope="col">Username</th>
            <th scope="col">Email</th>
            <th scope="col">Rôles</th>
            <th scope="col">Status</th>
            <th scope="col">Actions</th> 
          </tr>
        </thead>
        <!-- Corps du tableau -->
        <tbody>
          <tr *ngFor="let user of dataSource.data">
            <td>{{ user.id }}</td>
            <td>{{ user.nom }}</td>
            <td>{{ user.prenom }}</td>
            <td>{{ user.username }}</td>
            <td>{{ user.mail }}</td>
            <td>{{ user.role }}</td>
            <td>{{ user.status ? 'Actif' : 'Inactif' }}</td>
            <td>
              <div class="action-buttons">
              <!-- Boutons Modifier et Supprimer pour chaque utilisateur -->
              <button class="btn btn-primary" (click)="openEditDialog(user)"><i class="bi bi-pencil"></i></button>
              <button class="btn btn-danger" (click)="confirmDeleteUser(user)"><i class="bi bi-trash"></i></button>
              <!-- Bouton d'activation/désactivation -->
              
              <button class="btn" (click)="toggleUserStatus(user)"> 
                <span *ngIf="user.status" class="fa fa-toggle-on text-success"><i class="bi bi-toggle-on"></i></span>
                <span *ngIf="!user.status" class="fa fa-toggle-off text-danger"><i class="bi bi-toggle-off"></i></span> 
              </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
  
      <!-- Pagination -->
      <mat-paginator [length]="users.length"
                     [pageSize]="10"
                     (page)="loadMoreUsers($event)"
                     [pageSizeOptions]="[10, 20, 50, 100]">
      </mat-paginator>
    </div>
  </div>
  